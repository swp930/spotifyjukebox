<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Create Jukebox Spotify</title>
</head>

<body>
    <button onclick="createJukeBox()">Create Jukebox!</button>
    <br />
    <input id="jukebox_id" type="text" placeholder="Jukebox ID">
    <button onclick="joinJukeBox()">Join Jukebox!</button>

    <script>
        function createJukeBox() {
            console.log("Jukebox created!")
            console.log(guid())
            window.location.href = "/jukebox?jid=" + guid();
        }

        function joinJukeBox() {
            var id = document.getElementById("jukebox_id").value
            console.log(id)
            window.location.href = "/jukebox?jid=" + id
        }

        function guid() {
            let s4 = () => {
                    return Math.floor((1 + Math.random()) * 0x10000)
                        .toString(16)
                        .substring(1);
                }
                //return id of format 'aaaaaaaa'-'aaaa'-'aaaa'-'aaaa'-'aaaaaaaaaaaa'
            return s4() + s4() + '-' + s4() + '-' + s4();
        }
    </script>
</body>

</html>